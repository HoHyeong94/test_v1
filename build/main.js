!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("#extension:rc_dock"),require("LiteGraph"),require("react"),require("react/jsx-runtime"));else if("function"==typeof define&&define.amd)define(["#extension:rc_dock","LiteGraph","react","react/jsx-runtime"],e);else{var n="object"==typeof exports?e(require("#extension:rc_dock"),require("LiteGraph"),require("react"),require("react/jsx-runtime")):e(t["#extension:rc_dock"],t.LiteGraph,t.react,t["react/jsx-runtime"]);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,(function(t,e,n,r){return function(){var o={214:function(){console.log("tt123")},571:function(e){"use strict";e.exports=t},654:function(t){"use strict";t.exports=e},156:function(t){"use strict";t.exports=n},276:function(t){"use strict";t.exports=r}},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return o[t](n,n.exports,a),n.exports}a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var c={};return function(){"use strict";a.r(c);var t=a(654),e=a.n(t),n=a(571);function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t,e,n){return u=i()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i},u.apply(null,arguments)}function s(t){var e="function"==typeof Map?new Map:void 0;return s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return u(t,arguments,r(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,t)},s(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=p(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},d.apply(this,arguments)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function g(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function O(t){var e=i();return function(){var n,o=r(t);if(e){var i=r(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return g(this,n)}}var j=window.__sensor__=Symbol("__sensor__"),E=window.screen,x={};function S(t,e){for(var n in e)Object.defineProperty(t,n,{configurable:!0,value:e[n]})}window.screen.orientation?x=E.orientation:E.msOrientation?x=E.msOrientation:Object.defineProperty(x,"angle",{get:function(){return window.orientation||0}});var M=function(t){m(n,t);var e=O(n);function n(){return w(this,n),e.apply(this,arguments)}return y(n)}(function(t){m(n,Object);var e=O(n);function n(){var t;w(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=e.call(this,o);var a=window.document.createDocumentFragment();return t.addEventListener=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return a.addEventListener.apply(a,[t].concat(n))},t.removeEventListener=function(){return a.removeEventListener.apply(a,arguments)},t.dispatchEvent=function(e){S(e,{currentTarget:h(t)}),e.target||S(e,{target:h(t)});var n="on".concat(e.type);"function"==typeof t[n]&&t[n](e);var r=a.dispatchEvent(e);return r&&t.parentNode&&t.parentNode.dispatchEvent(e),S(e,{currentTarget:null,target:null}),r},t}return y(n)}());function q(t,e){Object.defineProperty(t,"on".concat(e),{enumerable:!0,configurable:!1,writable:!0,value:null})}var P=function(t){m(n,t);var e=O(n);function n(t){var r;if(w(this,n),(r=e.call(this))[j]=new WeakMap,q(h(r),"reading"),q(h(r),"activate"),q(h(r),"error"),function(t,e,n){var r=t[e]||(t[e]=new WeakMap),o=function(e){r[e]=n[e],Object.defineProperty(t,e,{get:function(){return r[e]}})};for(var i in n)o(i)}(h(r),j,{activated:!1,hasReading:!1,timestamp:null}),r[j].setState=function(t){switch(t){case 0:var e=new A("error",{error:new window.DOMException("Could not connect to a sensor")});r.dispatchEvent(e),r.stop();break;case 1:r[j].activated=!1,r[j].hasReading=!1,r[j].timestamp=null;break;case 2:break;case 3:var n=new window.Event("activate");r[j].activated=!0,r.dispatchEvent(n)}},r[j].frequency=null,window&&window.parent!=window.top)throw new window.DOMException("Only instantiable in a top-level browsing context","SecurityError");return t&&"number"==typeof t.frequency&&t.frequency>60&&(r.frequency=t.frequency),r}return y(n,[{key:"start",value:function(){}},{key:"stop",value:function(){}}]),n}(M),_=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return function(t){m(o,t);var e=O(o);function o(){var t;w(this,o);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t=e.call(this,i);var c,u=l(n);try{for(u.s();!(c=u.n()).done;){var s=c.value;if("on".concat(s)in window){t[j].eventName=s;break}}}catch(t){u.e(t)}finally{u.f()}return t}return y(o,[{key:"start",value:function(){d(r(o.prototype),"start",this).call(this),this[j].setState(2),window.addEventListener(this[j].eventName,this[j].handleEvent,{capture:!0})}},{key:"stop",value:function(){d(r(o.prototype),"stop",this).call(this),this[j].setState(1),window.removeEventListener(this[j].eventName,this[j].handleEvent,{capture:!0})}}]),o}(t)};function k(t,e,n){var r=Math.PI/180,o=(e||0)*r,i=(n||0)*r,a=(t||0)*r,c=Math.cos(.5*a),u=Math.sin(.5*a),s=Math.cos(.5*i),f=Math.sin(.5*i),l=Math.cos(.5*o),p=Math.sin(.5*o);return[p*s*c-l*f*u,l*f*c+p*s*u,l*s*u+p*f*c,l*s*c-p*f*u]}var A=function(t){m(n,t);var e=O(n);function n(t,r){var o;if(w(this,n),o=e.call(this,t,r),!r||!r.error instanceof window.DOMException)throw TypeError("Failed to construct 'SensorErrorEvent':2nd argument much contain 'error' property");return Object.defineProperty(h(o),"error",{configurable:!1,writable:!1,value:r.error}),o}return y(n)}(s(window.Event));function R(t){return t?(e=t,n=[0,0,1],r=-x.angle*Math.PI/180,a=Math.sin(r/2),c=Math.cos(r/2),function(t){var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2));return 0===e?[0,0,0,1]:t.map((function(t){return t/e}))}((i=[n[0]*a,n[1]*a,n[2]*a,c],[(o=e)[0]*i[3]+o[3]*i[0]+o[1]*i[2]-o[2]*i[1],o[1]*i[3]+o[3]*i[1]+o[2]*i[0]-o[0]*i[2],o[2]*i[3]+o[3]*i[2]+o[0]*i[1]-o[1]*i[0],o[3]*i[3]-o[0]*i[0]-o[1]*i[1]-o[2]*i[2]]))):null;var e,n,r,o,i,a,c}var T,L,N=window.RelativeOrientationSensor||function(t){m(n,t);var e=O(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(this,n),t=e.call(this,r),"screen"===(r.coordinateSystem||"world")?Object.defineProperty(h(t),"quaternion",{get:function(){return R(t[j].quaternion)}}):Object.defineProperty(h(t),"quaternion",{get:function(){return t[j].quaternion}}),t[j].handleEvent=function(e){e.absolute||null===e.alpha?t[j].setState(0):(t[j].activated||t[j].setState(3),t[j].timestamp=window.performance.now(),t[j].quaternion=k(e.alpha,e.beta,e.gamma),t[j].hasReading=!0,t.dispatchEvent(new window.Event("reading")))},t}return y(n,[{key:"stop",value:function(){d(r(n.prototype),"stop",this).call(this),this[j].quaternion=null}},{key:"populateMatrix",value:function(t){!function(t,e){(t instanceof Float32Array||t instanceof Float64Array)&&t.length>=16&&(t[0]=1-2*(Math.pow(e[1],2)+Math.pow(e[2],2)),t[1]=2*(e[0]*e[1]-e[2]*e[3]),t[2]=2*(e[0]*e[2]+e[1]*e[3]),t[3]=0,t[4]=2*(e[0]*e[1]+e[2]*e[3]),t[5]=1-2*(Math.pow(e[0],2)+Math.pow(e[2],2)),t[6]=2*(e[1]*e[2]-e[0]*e[3]),t[7]=0,t[8]=2*(e[0]*e[2]-e[1]*e[3]),t[9]=2*(e[1]*e[2]+e[0]*e[3]),t[10]=1-2*(Math.pow(e[0],2)+Math.pow(e[1],2)),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1)}(t,this.quaternion)}}]),n}(_(P,"deviceorientation")),D=(window.AbsoluteOrientationSensor||_(P,"deviceorientationabsolute","deviceorientation"),window.Gyroscope||_(P,"devicemotion"),window.Accelerometer||_(P,"devicemotion"),window.LinearAccelerationSensor||_(P,"devicemotion"),window.GravitySensor||_(P,"devicemotion"),a(156)),F=a(276);function I(){return console.log("--------------------------------"),console.log("te123"),(0,D.useEffect)((function(){}),[]),T||(T=(0,F.jsxs)("div",{children:["test2",(0,F.jsx)("p",{children:"1"})]}))}function W(){var t=this;console.log("nav: ",window.navigator.permissions.query),console.log(window.navigator.permissions.query({name:"accelerometer"}).catch((function(t){return console.error(t)})),window.navigator.permissions.query({name:"magnetometer"}),window.navigator.permissions.query({name:"gyroscope"})),window.navigator.permissions?Promise.all([window.navigator.permissions.query({name:"accelerometer"}),window.navigator.permissions.query({name:"magnetometer"}),window.navigator.permissions.query({name:"gyroscope"})]).then((function(e){var n;e.every((function(t){return"granted"===t.state}))?(n={frequency:60,coordinateSystem:void 0},console.log(JSON.stringify(n)),t.sensor=new N(n),t.sensor.onreading=function(){console.log(t.sensor.quaternion),t.triggerSlot(0,JSON.stringify(t.sensor.quaternion))},t.sensor.onerror=function(t){"NotReadableError"===t.error.name&&console.log("Sensor is not available.")}):console.log("Permission to use sensor was denied.")})).catch((function(t){console.log("Integration with Permissions API is not enabled, still try to start app.",t)})):console.error("error",window.navigator.permissions),this.addOutput("evt",e().EVENT)}function G(){this.addOutput("sendFunction",""),this.openWindow=function(){var t=L||(L=(0,F.jsx)(I,{}));(0,n.open)(void 0,{id:"::tmp::testWebrtc",title:"testWebrtc",content:t})},this.defaultButton=this.addWidget("button","view",null,this.openWindow,{})}a(214),W.title="deviceOrientation",W.prototype.onExecute=function(){console.log(this.sensor),this.sensor.start()},e().registerNodeType("input/gyroAcc2",W),G.title="test33",G.prototype.onExecute=function(){this.setOutputData(0,"test from node2")},e().registerNodeType("test/te2st3",G)}(),c}()}));
//# sourceMappingURL=main.js.map